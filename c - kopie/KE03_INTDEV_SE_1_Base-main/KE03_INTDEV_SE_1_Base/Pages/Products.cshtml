@page
@model ProductsModel
@{
    ViewData["Title"] = "Products";
}

<link rel="stylesheet" href="~/css/Products.css" />

<h2>Products</h2>
<p>Browse through high quality products.</p>

@foreach (var product in Model.Products)
{
<div class="product-card">
    <img src="@Model.ProductImages.GetValueOrDefault(product.Name, "/images/default.jpg")" alt="@product.Name" class="product-image" />


    <div class="product-info">
        <div class="product-header">
            <h3 class="product-title">@product.Name</h3>
            <span class="product-price">€@product.Price</span>
        </div>

        <p class="product-description">
            @product.Description
        </p>

        <form method="post" asp-page-handler="AddToCart" class="add-to-cart-form">
            <input type="hidden" name="productId" value="@product.Id" />
            <input type="hidden" name="quantity" value="1" />
            <button type="submit" class="buy-button">Add to cart</button>
        </form>


    </div>
</div>
}

@section Scripts {
    <script src="~/js/Products.js"></script>
}

